# Arquivo de Controle de Acesso (ACL) do Mosquitto
# Define permissões de leitura/escrita para cada usuário

# Usuário homeassistant - Acesso total
user homeassistant
topic read casa/+/+
topic write casa/+/+
topic read $SYS/+/+

# Usuário iot_devices - Acesso limitado para dispositivos IoT
user iot_devices
topic write casa/dispositivos/+/+
topic read casa/comandos/+/+
topic read casa/status/+/+

# Usuário external_api - Acesso apenas para leitura
user external_api
topic read casa/+/+
topic read $SYS/+/+

# Usuário monitor - Acesso apenas para monitoramento
user monitor
topic read casa/+/+
topic read $SYS/+/+

# Configurações padrão para usuários não autenticados
# (desabilitado por segurança)
# pattern read casa/public/+

# Configurações específicas por tópico
# Segurança - apenas homeassistant e dispositivos autorizados
topic casa/seguranca/+ homeassistant
topic casa/seguranca/+ iot_devices

# Energia - leitura para monitoramento, escrita para controle
topic casa/energia/+ homeassistant
topic casa/energia/+ external_api
topic casa/energia/+ monitor

# Clima - controle para homeassistant e dispositivos
topic casa/clima/+ homeassistant
topic casa/clima/+ iot_devices

# Iluminação - controle para homeassistant e dispositivos
topic casa/iluminacao/+ homeassistant
topic casa/iluminacao/+ iot_devices

# Comandos - escrita para homeassistant, leitura para dispositivos
topic casa/comandos/+ homeassistant
topic casa/comandos/+ iot_devices

# Status - leitura para todos os usuários autenticados
topic casa/status/+ homeassistant
topic casa/status/+ iot_devices
topic casa/status/+ external_api
topic casa/status/+ monitor

# Sistema - apenas homeassistant
topic $SYS/+ homeassistant
